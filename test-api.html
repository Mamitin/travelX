<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <link rel="stylesheet" href="justifiedGallery.css" />
    <script src="jquery.justifiedGallery.js"></script>

</head>

<body>
    <div id="photo-container"></div>
    <script>
        // queryUrl = "https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=676015f27b2b8d8660e78e33b3682ae2&text=san+francisco+rain&license=2%2C3%2C4%2C5%2C6%2C7%2C8%2C9%2C10&sort=relevance&extras=url_m%2Curl_l&per_page=20&format=json&nojsoncallback=1"

        // $.ajax({
        //     url: queryUrl,
        //     method: "GET",
        // }).then(function (response) {
        //     // console.log(response);
        //     var photoArray = response.photos.photo;
        //     for (var i = 0; i < photoArray.length; i++) {
        //         var imageUrl = photoArray[i].url_m;
        //         var image = $("<img>").attr("src", imageUrl);
        //         $("#photo-container").append(image);
        //     }
        // });

        // queryUrl = "https://api.unsplash.com/search/photos?page=1&query=san+francisco&per_page=15&client_id=1fe059d9563f81ba0606c1b4cc67ce6907170487254d42e8874bf0748145d74b"
        // $.ajax({
        //     url: queryUrl,
        //     method: "GET",
        // }).then(function (response) {
        //     // console.log(response);
        //     var photoArray = response.results;
        //     for (var i = 0; i < photoArray.length; i++) {
        //         var imageUrl = photoArray[i].urls.small;
        //         var attributionUrl = photoArray[i].links.html;

        //         var link = $("<a>").attr("href", attributionUrl);
        //         var image = $("<img>").attr("src", imageUrl);
        //         link.append(image);
        //         $("#photo-container").append(link);
        //     }
        //     // $("#photo-container").justifiedGallery({
        //     //     rowHeight: 200,
        //     //     lastRow: 'nojustify',
        //     //     margins: 3
        //     // });
        // });

        queryUrl = "https://api.openweathermap.org/data/2.5/forecast?q=london&APPID=ad0f64f9a42308c19b2ba725fdc6802c"
        $.ajax({
            url: queryUrl,
            method: "GET",
        }).then(function (response) {
            // console.log(response.list[0].weather[0].icon);
            var iconCode = response.list[0].weather[0].icon
            var iconURL = "http://openweathermap.org/img/wn/" + iconCode + "@2x.png";
            var weatherLogo = $("<img>").attr("src", iconURL);
            $("#photo-container").append(weatherLogo);
        }
        );


    </script>
</body>

</html>